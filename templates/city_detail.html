<!-- templates/city_detail.html -->
{% extends 'base.html' %}

{% block content %}
<section style="padding: 4rem 0;">
    <div class="container">
        <div style="max-width: 1000px; margin: 0 auto;">
            <!-- City Header -->
            <div style="background: white; padding: 3rem; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 2rem;">
                    <div style="flex: 1;">
                        <h1 style="margin-bottom: 0.5rem; color: #2c3e50;">ABC Hotels {{ city.name }}</h1>
                        <p style="font-size: 1.2rem; color: #666; line-height: 1.6;">{{ city.description }}</p>
                    </div>
                    <div style="flex-shrink: 0; text-align: right;"> 
                        <p style="font-size: 1.5rem; color: #e74c3c; margin-bottom: 0.5rem;">
                            <strong>Rooms starting from ${{ city.starting_price|default:"0" }}</strong>
                        </p>
                        <p style="color: #666; margin: 0;">{{ city.room_count }} rooms available</p>
                    </div>
                </div>

                <!-- City Image -->
                <div style="border-radius: 10px; overflow: hidden; margin-bottom: 2rem;">
                    {% if city.image %}
                    <img src="{{ city.image.url }}" alt="{{ city.name }}" style="width: 100%; height: 400px; object-fit: cover;">
                    {% else %}
                    <img src="https://images.unsplash.com/photo-1488646953014-85cb44e25829?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="{{ city.name }}" style="width: 100%; height: 400px; object-fit: cover;">
                    {% endif %}
                </div>
            </div>

            <!-- Available Room Types -->
            <div style="margin-bottom: 3rem;">
                <h2 style="margin-bottom: 1.5rem;">Available Room Types in {{ city.name }}</h2>
                {% if room_types %}
                <div class="room-grid">
                    {% for room_type in room_types %}
                    <div class="room-card">
                        <div class="room-image">
                            {% if room_type.image %}
                            <img src="{{ room_type.image.url }}" alt="{{ room_type.name }}">
                            {% else %}
                            {% if room_type.name == 'Standard Room' %}
                            <img src="https://images.unsplash.com/photo-1631049307264-da0ec9d70304?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Standard Room">
                            {% elif room_type.name == 'Deluxe Room' %}
                            <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Deluxe Room">
                            {% elif room_type.name == 'Executive Suite' %}
                            <img src="https://images.unsplash.com/photo-1611892440504-42a792e24d32?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Executive Suite">
                            {% elif room_type.name == 'Presidential Suite' %}
                            <img src="https://images.unsplash.com/photo-1590490360182-c33d57733427?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Presidential Suite">
                            {% endif %}
                            {% endif %}
                        </div>
                        <div class="room-content">
                            <h3 class="room-title">{{ room_type.name }}</h3>
                            <p style="color: #666; margin-bottom: 1rem; line-height: 1.6;">{{ room_type.description }}</p>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <div>
                                    <strong style="color: #e74c3c; font-size: 1.3rem;">${{ room_type.price_per_night }}</strong>
                                    <span style="color: #666;"> / night</span>
                                </div>
                                <div style="color: #666;">
                                    <strong>Capacity:</strong> {{ room_type.capacity }} person{{ room_type.capacity|pluralize }}
                                </div>
                            </div>
                            <a href="{% url 'room_detail' room_type.id %}" class="btn" style="width: 100%; text-align: center;">View Available Rooms</a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div style="text-align: center; padding: 3rem; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px;">
                    <h3 style="color: #856404; margin-bottom: 1rem;">No rooms currently available</h3>
                    <p style="color: #856404;">There are no available rooms in {{ city.name }} at the moment. Please check back later or explore our other locations.</p>
                    <a href="{% url 'room_list' %}" class="btn btn-primary" style="margin-top: 1rem;">View Other Cities</a>
                </div>
                {% endif %}
            </div>

            <!-- Other Cities -->
            {% if other_cities %}
            <div style="border-top: 2px solid #f0f0f0; padding-top: 3rem;">
                <h2 style="margin-bottom: 2rem;">Explore Other Locations</h2>
                <div class="city-grid">
                    {% for other_city in other_cities %}
                    <div class="city-card">
<!-- In room_list.html - Update the city image section -->
<div class="city-image-3col">
    {% if city.image %}
    <img src="{{ city.image.url }}" alt="{{ city.name }}">
    {% else %}
    <!-- Dynamic city images -->
    {% if "New York" in city.name %}
    <img src="https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC New York Hotel">
    {% elif "Los Angeles" in city.name %}
    <img src="https://images.unsplash.com/photo-1564501049412-61c2a3083791?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Los Angeles Hotel">
    {% elif "Chicago" in city.name %}
    <img src="https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Chicago Hotel">
    {% elif "Miami" in city.name %}
    <img src="https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Miami Hotel">
    {% elif "Las Vegas" in city.name %}
    <img src="https://images.unsplash.com/photo-1605236453806-6ff36851218e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Las Vegas Hotel">
    {% elif "San Francisco" in city.name %}
    <img src="https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC San Francisco Hotel">
    {% elif "London" in city.name %}
    <img src="https://images.unsplash.com/photo-1522798514-97ceb8c4f1c8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC London Hotel">
    {% elif "Paris" in city.name %}
    <img src="https://images.unsplash.com/photo-1584132967334-10e028bd69f7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Paris Hotel">
    {% elif "Tokyo" in city.name %}
    <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Tokyo Hotel">
    {% elif "Dubai" in city.name %}
    <img src="https://images.unsplash.com/photo-1512453979798-5ea266f8880c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Dubai Hotel">
    {% elif "Singapore" in city.name %}
    <img src="https://images.unsplash.com/photo-1525625293386-3f8f1938fedd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Singapore Hotel">
    {% elif "Sydney" in city.name %}
    <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Sydney Hotel">
    {% elif "Toronto" in city.name %}
    <img src="https://images.unsplash.com/photo-1534237710431-e27c698479d0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Toronto Hotel">
    {% elif "Hong Kong" in city.name %}
    <img src="https://images.unsplash.com/photo-1534008897995-27a23e859048?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Hong Kong Hotel">
    {% elif "Bangkok" in city.name %}
    <img src="https://images.unsplash.com/photo-1528181304800-259b08848526?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Bangkok Hotel">
    {% elif "Berlin" in city.name %}
    <img src="https://images.unsplash.com/photo-1618773928121-c3222f663791?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Berlin Hotel">
    {% elif "Barcelona" in city.name %}
    <img src="https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Barcelona Hotel">
    {% elif "Amsterdam" in city.name %}
    <img src="https://images.unsplash.com/photo-1590490360182-c33d57733427?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Amsterdam Hotel">
    {% elif "Istanbul" in city.name %}
    <img src="https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Istanbul Hotel">
    {% elif "Beijing" in city.name %}
    <img src="https://images.unsplash.com/photo-1564501049412-61c2a3083791?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Beijing Hotel">
    {% elif "Mumbai" in city.name %}
    <img src="https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC Mumbai Hotel">
    {% else %}
    <img src="https://images.unsplash.com/photo-1611892440504-42a792e24d32?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="ABC {{ city.name }} Hotel">
    {% endif %}
    {% endif %}
</div>
                        <div class="city-content">
                            <h3 class="city-title">{{ other_city.name }}</h3>
                            <p style="color: #666; margin-bottom: 1rem; line-height: 1.6;">{{ other_city.description|truncatewords:20 }}</p>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <div>
                                    <strong style="color: #e74c3c; font-size: 1.2rem;">
                                        {% if other_city.starting_price %}
                                        ${{ other_city.starting_price }}
                                        {% else %}
                                        Contact
                                        {% endif %}
                                    </strong>
                                    <span style="color: #666;"> / night</span>
                                </div>
                            </div>
                            <a href="{% url '
                            ' other_city.id %}" class="btn" style="width: 100%; text-align: center;">View Hotel</a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</section>

<style>
    .room-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
    }

    .room-card {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid #f0f0f0;
    }

    .room-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .room-image {
        width: 100%;
        height: 200px;
        overflow: hidden;
    }

    .room-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .room-card:hover .room-image img {
        transform: scale(1.05);
    }

    .room-content {
        padding: 1.5rem;
    }

    .room-title {
        font-size: 1.3rem;
        margin-bottom: 0.5rem;
        color: #2c3e50;
        font-weight: 600;
    }

    .city-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
    }

    .city-card {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
        border: 1px solid #f0f0f0;
    }

    .city-card:hover {
        transform: translateY(-3px);
    }

    .city-image {
        width: 100%;
        height: 180px;
        overflow: hidden;
    }

    .city-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .city-content {
        padding: 1.2rem;
    }

    .city-title {
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
        color: #2c3e50;
        font-weight: 600;
    }

    .btn {
        display: inline-block;
        background: #3498db;
        color: white;
        padding: 0.8rem 1.5rem;
        text-decoration: none;
        border-radius: 5px;
        border: none;
        cursor: pointer;
        transition: background 0.3s;
        text-align: center;
        font-size: 0.9rem;
    }

    .btn:hover {
        background: #2980b9;
        color: white;
        text-decoration: none;
    }

    .btn-primary {
        background: #e74c3c;
    }

    .btn-primary:hover {
        background: #c0392b;
    }
</style>
{% endblock %}